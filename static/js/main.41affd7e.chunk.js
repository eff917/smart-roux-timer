(this["webpackJsonpxiaomi-mi-smart-rubik-cube"]=this["webpackJsonpxiaomi-mi-smart-rubik-cube"]||[]).push([[0],{12:function(e,n,r){e.exports=r(20)},17:function(e,n,r){},19:function(e,n,r){},20:function(e,n,r){"use strict";r.r(n);var t=r(1),a=r.n(t),o=r(8),i=r.n(o),c=(r(17),r(6)),u=r.n(c),v=r(9),f=r(2),s=r(10),d=r(3),l=r(4),w=(navigator,function(e){return e.getPrimaryService("0000aadb-0000-1000-8000-00805f9b34fb").then((function(e){return window.mservice=e,e.getCharacteristic("0000aadc-0000-1000-8000-00805f9b34fb").then((function(e){return window.mcharacteristic=e,e.startNotifications(),e}))}))}),b=function(e){return e&&e.gatt.connected?e.gatt.disconnect():Promise.resolve()},m=function(e,n,r,t,a,o,i,c){var u=0;return 1===n?(e[r]=c,e[t]=o,e[a]=i):2===n?(e[r]=i,e[t]=c,e[a]=o):3===n?(e[r]=o,e[t]=i,e[a]=c):u=1,u},g=function(e,n,r,t,a,o,i,c){var u=0;return 2===n?(e[r]=c,e[t]=o,e[a]=i):1===n?(e[r]=i,e[t]=c,e[a]=o):3===n?(e[r]=o,e[t]=i,e[a]=c):u=1,u},h=function(e,n,r,t,a,o){var i=0;return i|=1===n?m(e,r,t,a,o,1,2,3):2===n?m(e,r,t,a,o,1,3,4):3===n?m(e,r,t,a,o,1,4,5):4===n?m(e,r,t,a,o,1,5,2):5===n?m(e,r,t,a,o,6,3,2):6===n?m(e,r,t,a,o,6,4,3):7===n?m(e,r,t,a,o,6,5,4):8===n?m(e,r,t,a,o,6,2,5):2},p=function(e,n,r,t,a,o){var i=0;return i|=1===n?g(e,r,t,a,o,1,2,3):2===n?g(e,r,t,a,o,1,3,4):3===n?g(e,r,t,a,o,1,4,5):4===n?g(e,r,t,a,o,1,5,2):5===n?g(e,r,t,a,o,6,3,2):6===n?g(e,r,t,a,o,6,4,3):7===n?g(e,r,t,a,o,6,5,4):8===n?g(e,r,t,a,o,6,2,5):2},y=function(e,n,r,t,a,o){var i=0;return 1===n?(e[r]=a,e[t]=o):2===n?(e[r]=o,e[t]=a):i=3,i},E=function(e,n,r,t,a){var o=0;return 1===n?o|=y(e,r,t,a,1,2):2===n?o|=y(e,r,t,a,1,3):3===n?o|=y(e,r,t,a,1,4):4===n?o|=y(e,r,t,a,1,5):5===n?o|=y(e,r,t,a,2,3):6===n?o|=y(e,r,t,a,4,3):7===n?o|=y(e,r,t,a,4,5):8===n?o|=y(e,r,t,a,2,5):9===n?o|=y(e,r,t,a,6,2):10===n?o|=y(e,r,t,a,6,3):11===n?o|=y(e,r,t,a,6,4):12===n?o|=y(e,r,t,a,6,5):o=4,o},U=function(e,n,r,t,a){var o=e[a];e[a]=e[t],e[t]=e[r],e[r]=e[n],e[n]=o},k=function(e){var n=function(e){var n=new Uint8Array(55),r=0,t=new Uint8Array(8),a=new Uint8Array(8),o=new Uint8Array(12),i=new Uint8Array(12);if(20!==e.length){for(var c=0;c<55;c++)n[c]=0;return n}t[0]=e[0]>>4,t[1]=15&e[0],t[2]=e[1]>>4,t[3]=15&e[1],t[4]=e[2]>>4,t[5]=15&e[2],t[6]=e[3]>>4,t[7]=15&e[3],a[0]=e[4]>>4,a[1]=15&e[4],a[2]=e[5]>>4,a[3]=15&e[5],a[4]=e[6]>>4,a[5]=15&e[6],a[6]=e[7]>>4,a[7]=15&e[7],o[0]=e[8]>>4,o[1]=15&e[8],o[2]=e[9]>>4,o[3]=15&e[9],o[4]=e[10]>>4,o[5]=15&e[10],o[6]=e[11]>>4,o[7]=15&e[11],o[8]=e[12]>>4,o[9]=15&e[12],o[10]=e[13]>>4,o[11]=15&e[13];for(var u=0;u<12;u+=1)i[u]=0;if(0!==(128&e[14])?i[0]=2:i[0]=1,0!==(64&e[14])?i[1]=2:i[1]=1,0!==(32&e[14])?i[2]=2:i[2]=1,0!==(16&e[14])?i[3]=2:i[3]=1,0!==(8&e[14])?i[4]=2:i[4]=1,0!==(4&e[14])?i[5]=2:i[5]=1,0!==(2&e[14])?i[6]=2:i[6]=1,0!==(1&e[14])?i[7]=2:i[7]=1,0!==(128&e[15])?i[8]=2:i[8]=1,0!==(64&e[15])?i[9]=2:i[9]=1,0!==(32&e[15])?i[10]=2:i[10]=1,0!==(16&e[15])?i[11]=2:i[11]=1,n[32]=1,n[41]=2,n[50]=3,n[14]=4,n[23]=5,n[5]=6,r|=h(n,t[0],a[0],34,43,54),r|=p(n,t[1],a[1],36,52,18),r|=h(n,t[2],a[2],30,16,27),r|=p(n,t[3],a[3],28,25,45),r|=p(n,t[4],a[4],1,48,37),r|=h(n,t[5],a[5],3,12,46),r|=p(n,t[6],a[6],9,21,10),r|=h(n,t[7],a[7],7,39,19),r|=E(n,o[0],i[0],31,44),r|=E(n,o[1],i[1],35,53),r|=E(n,o[2],i[2],33,17),r|=E(n,o[3],i[3],29,26),r|=E(n,o[4],i[4],40,51),r|=E(n,o[5],i[5],15,49),r|=E(n,o[6],i[6],13,24),r|=E(n,o[7],i[7],42,22),r|=E(n,o[8],i[8],4,38),r|=E(n,o[9],i[9],2,47),r|=E(n,o[10],i[10],6,11),r|=E(n,o[11],i[11],8,20),U(n,1,7,9,3),U(n,4,8,6,2),U(n,37,19,10,46),U(n,38,20,11,47),U(n,39,21,12,48),U(n,40,22,13,49),U(n,41,23,14,50),U(n,42,24,15,51),U(n,43,25,16,52),U(n,44,26,17,53),U(n,45,27,18,54),U(n,34,28,30,36),U(n,31,29,33,35),0!==r)for(var v=0;v<55;v++)n[v]=0;return n}(function(e){var n=new Uint8Array(20),r=[80,175,152,32,170,119,19,137,218,230,63,95,46,130,106,175,163,243,20,7,167,21,168,232,143,175,42,125,126,57,254,87,217,91,85,215];if(20!==e.byteLength)return e;if(167!==e.getUint8(18))return e;var t=e.getUint8(19);t&=15;var a=e.getUint8(19);a>>=4;for(var o=0;o<19;o+=1){n[o]=e.getUint8(o);var i=n,c=o;i[c]=i[c]-r[t+o];var u=n,v=o;u[v]=u[v]-r[a+o]}return n}(e));return Array.from(n).slice(1)},A=(r(19),r(0)),x=r(11),G=new A.q;G.setSize(600,600),document.body.appendChild(G.domElement);var S=new A.l;S.background=new A.b(15790320);var j=new A.i(75,1,.1,1e3);j.position.set(0,0,30),new A.c(1,1e3,256,{format:A.k,magFilter:A.e,minFilter:A.e}).renderTarget.texture.encoding=A.r;var O=new x.a(j,G.domElement);O.addEventListener("change",R),O.minDistance=5,O.maxDistance=30,O.enablePan=!1;var C=0,D=39752,L=16766208,P=11997748,q=16777215,z=16734208,F=18093,J=[new A.h({color:C}),new A.h({color:D}),new A.h({color:L}),new A.h({color:P}),new A.h({color:q}),new A.h({color:z}),new A.h({color:F})],N=new A.a(3,3,3,3,3,3);function B(e){N.clearGroups();for(var n,r=0,t=48;t>-1;t-=6)N.addGroup(t,6,e[r]),r++;var a=[2,5,8,1,4,7,0,3,6];n=216,a.forEach((function(t){N.addGroup(n+6*t,6,e[r]),r++})),n=108,(a=[2,5,8,1,4,7,0,3,6]).forEach((function(t){N.addGroup(n+6*t,6,e[r]),r++}));for(var o=54;o<108;o+=6)N.addGroup(o,6,e[r]),r++;n=270,(a=[6,3,0,7,4,1,8,5,2]).forEach((function(t){N.addGroup(n+6*t,6,e[r]),r++})),n=162,(a=[2,5,8,1,4,7,0,3,6]).forEach((function(t){N.addGroup(n+6*t,6,e[r]),r++}))}var I=new A.g(N,J);function R(){G.render(S,j)}I.rotateZ(3.14),I.rotateY(2.355),I.rotateX(.785),S.add(I),j.position.z=5;var T=["g","y","r","w","o","b"],W=function(e){Object(l.a)(r,e);var n=Object(d.a)(r);function r(e){var t;return Object(f.a)(this,r),(t=n.call(this,e)).state={cubeState:"bbbbbbbbboooooooooyyyyyyyyygggggggggrrrrrrrrrwwwwwwwww"},t.cubeRawState=[6,1,6,1,6,1,6,1,6,5,3,5,3,5,3,5,3,5,2,4,2,4,2,4,2,4,2,1,6,1,6,1,6,1,6,1,3,5,3,5,3,5,3,5,3,4,2,4,2,4,2,4,2,4],t.device=null,t}return Object(s.a)(r,[{key:"componentWillUnmount",value:function(){b(this.device)}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"App"},a.a.createElement("div",null,a.a.createElement("button",{onClick:Object(v.a)(u.a.mark((function n(){var r,t,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,navigator.bluetooth.requestDevice({acceptAllDevices:!0,optionalServices:["0000aadb-0000-1000-8000-00805f9b34fb"]}).then((function(e){return e.gatt.connect().then((function(n){return window.mdevice=e,window.mserver=n,{device:e,server:n}}))}));case 2:return r=n.sent,t=r.server,a=r.device,e.device=a,n.next=8,w(t);case 8:n.sent.addEventListener("characteristicvaluechanged",(function(n){var r=n.target.value;B(k(r)),R();var t=k(r).map((function(e){return T[e-1]})).join("");e.setState({cubeState:t}),console.log(t)})),a.addEventListener("gattserverdisconnected",(function(){b(a)}));case 11:case"end":return n.stop()}}),n)})))},"connect")))}}]),r}(a.a.Component);i.a.render(a.a.createElement(W,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.41affd7e.chunk.js.map